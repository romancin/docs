{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>\ud83d\udcdd Welcome to Romancin's Knowledge Base \ud83d\udcdd In this small wiki, I will have documents so I don't forget things I did in any moment of my life, as I will probably need them also in the future \ud83d\ude03"},{"location":"NAS/Asustor/","title":"Asustor","text":""},{"location":"NAS/Asustor/#creating-startup-script","title":"Creating startup script","text":""},{"location":"NAS/Asustor/#prepare-directory","title":"Prepare directory","text":"<ol> <li>Connect by SSH</li> <li>sudo to root</li> <li>Create <code>scripts</code> directory: <code>/volume1/.@root/scripts</code></li> </ol>"},{"location":"NAS/Asustor/#create-script-contents","title":"Create script contents","text":"<ol> <li>Create the script:    <pre><code>cat nas_start_shutdown_script.sh\n#!/bin/sh\n\necho \"NAS Startup/Shutdown script\"\n\nstartup_script()\n{\n    #sleep 60 &amp;&amp; /opt/VirtualBox/VBoxManage startvm 2a1036d8-bf83-4090-b0ed-7122ceafb917 --type headless\n    echo \"Mounting needed filesystems...\"\n    mount -t nfs 192.168.10.253:/volume2/Backups /volume3/Backups\n    mount -t nfs 192.168.10.253:/volume2/Backups /share/Backups\n}\n\nshutdown_script()\n{\n    echo \"Unmounting filesystems...\"\n    umount /volume3/Backups\n}\n\ninstall()\n{\n    ln -s /volume1/.@root/scripts/nas_start_shutdown_script.sh /usr/local/etc/init.d/S99autostart\n    ln -s /volume1/.@root/scripts/nas_start_shutdown_script.sh /usr/local/etc/init.d/K01autostart\n}\ncase \"$1\" in\n    start)\n        echo \"Executing startup script...\"\n startup_script\n        sleep 3\n        ;;\n    stop)\n        echo \"Executing shutdown script...\"\n shutdown_script\n        sleep 3\n        ;;\n    reload)\n shutdown_script\n        sleep 2\n startup_script\n        ;;\n    install)\n install\n ;;\n    *)\n        echo \"Usage: $0 {start|stop|reload|install}\"\n        exit 1\n        ;;\nesac\nexit 0\n</code></pre></li> </ol>"},{"location":"NAS/Asustor/#install-script","title":"Install script","text":"<ol> <li>Execute: <code>/volume1/.@root/scripts/nas_start_shutdown_script.sh install</code></li> <li>It will create:    <pre><code>ls -latr /usr/local/etc/init.d/\ntotal 84\ndrwxr-xr-x    1 root     root            24 Mar 12 21:39 ../\nlrwxrwxrwx    1 root     root            52 Mar 26 11:30 S99autostart -&gt; /volume1/.@root/scripts/nas_start_shutdown_script.sh*\nlrwxrwxrwx    1 root     root            52 Mar 26 11:30 K01autostart -&gt; /volume1/.@root/scripts/nas_start_shutdown_script.sh*\n</code></pre> Done! The script will be executed automatically on startup/shutdown.</li> </ol>"},{"location":"NAS/Asustor/#second-item","title":"Second Item","text":""},{"location":"NAS/Asustor/#first-section","title":"First Section","text":""},{"location":"NAS/Asustor/#second-section","title":"Second Section","text":""}]}